### 1.2. ì œí’ˆ ìš”ì•½

ëŒ€í•™ìƒë“¤ì´ ì „ê³µ/êµì–‘ê³¼ëª©ì˜ PDF í•™ìŠµ ìë£Œ(ê°•ì˜ì•ˆ, ë…¼ë¬¸ ë“±)ë¥¼ ì—…ë¡œë“œí•˜ë©´, Gemini 2.5 Pro AIê°€ PDFì˜ ì‹œê°ì /ë¬¸ë§¥ì  ì •ë³´ë¥¼ ì¢…í•© ë¶„ì„í•˜ì—¬ í•µì‹¬ ê°œë…ì˜ ê³„ì¸µ êµ¬ì¡°ë¥¼ ë„ì¶œí•˜ê³ , ì‚¬ìš©ìì˜ ì§€ì‹ ìˆ˜ì¤€ì„ ì§„ë‹¨í•˜ì—¬ ë§ì¶¤í˜• í•´ì„¤ê³¼ ì—°ìŠµë¬¸ì œë¥¼ ì œê³µí•˜ëŠ” AI ê¸°ë°˜ í•™ìŠµ ì„œë¹„ìŠ¤. ì‚¬ìš©ìì˜ ì·¨ì•½ì ì„ ì§‘ì¤‘ ê³µëµí•˜ì—¬ ì‹œí—˜ ì¤€ë¹„ íš¨ìœ¨ì„ ê·¹ëŒ€í™”í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•œë‹¤.

### 1.3. íƒ€ê²Ÿ ì‚¬ìš©ì

- **ì£¼ìš” íƒ€ê²Ÿ:** ëŒ€í•™êµ ì‹œí—˜ì„ ì¤€ë¹„í•˜ëŠ” í•™ë¶€ìƒ
- **ì‚¬ìš© í™˜ê²½:** ë°©ëŒ€í•œ ì–‘ì˜ PDF ê°•ì˜ì•ˆì„ ë‹¨ê¸°ê°„ì— íš¨ìœ¨ì ìœ¼ë¡œ í•™ìŠµí•˜ê³ , ìì‹ ì˜ ì·¨ì•½ì ì„ íŒŒì•…í•˜ì—¬ ë³´ì™„í•˜ê³  ì‹¶ì€ í•™ìƒ.

### 1.4. í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œ

- **ì •ë³´ ê³¼ë¶€í•˜:** ì–´ë–¤ ê°œë…ë¶€í„° ê³µë¶€í•´ì•¼ í• ì§€, ê°œë… ê°„ì˜ ìœ„ê³„ëŠ” ì–´ë–»ê²Œ ë˜ëŠ”ì§€ íŒŒì•…í•˜ê¸° ì–´ë µë‹¤.
- **ìê¸° ì§„ë‹¨ì˜ ì–´ë ¤ì›€:** PDFë¥¼ ì½ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ë¬´ì—‡ì„ ì•Œê³  ë¬´ì—‡ì„ ëª¨ë¥´ëŠ”ì§€ ê°ê´€ì ìœ¼ë¡œ ì§„ë‹¨í•˜ê¸° í˜ë“¤ë‹¤.
- **ë¹„íš¨ìœ¨ì ì¸ ë³µìŠµ:** í‹€ë¦° ë¬¸ì œë‚˜ ëª¨ë¥´ëŠ” ê°œë…ê³¼ ê´€ë ¨ëœ ë¶€ë¶„ì„ ì›ë³¸ ìë£Œì—ì„œ ë‹¤ì‹œ ì°¾ì•„ë³´ëŠ” ê³¼ì •ì´ ë²ˆê±°ë¡­ê³  ì‹œê°„ì´ ë§ì´ ì†Œìš”ëœë‹¤.

---

### 2.0 ì œí’ˆ ëª©í‘œ (Goals)

### 2.1. ì‚¬ìš©ì ëª©í‘œ

- ìì‹ ì´ í•™ìŠµí•  PDF ë‚´ìš©ì˜ ì „ì²´ì ì¸ **ì§€ì‹ ë§µ(Knowledge Map)**ì„ í•œëˆˆì— íŒŒì•…í•œë‹¤.
- ìì‹ ì˜ **ì·¨ì•½ ê°œë…ì„ ëª…í™•íˆ ì¸ì§€**í•˜ê³ , ì´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•™ìŠµ ê³„íšì„ ì„¸ìš´ë‹¤.
- ë§ì¶¤í˜• ë¬¸ì œ í’€ì´ì™€ **ì›ë¬¸ ì—°ë™ ì˜¤ë‹µ í™•ì¸**ì„ í†µí•´ í•™ìŠµ ì„±ì·¨ë„ë¥¼ ë†’ì´ê³  ì‹œí—˜ì— ëŒ€í•œ ìì‹ ê°ì„ ì–»ëŠ”ë‹¤.

### 2.2. ì œí’ˆ ëª©í‘œ

- **í•™ìŠµ íš¨ìœ¨ì„± ì¦ëŒ€:** ì‚¬ìš©ìê°€ íŠ¹ì • PDF ìë£Œë¥¼ í•™ìŠµ ì™„ë£Œí•˜ëŠ” ë° ê±¸ë¦¬ëŠ” ì‹œê°„ì„ 20% ì´ìƒ ë‹¨ì¶•ì‹œí‚¨ë‹¤.
- **í•µì‹¬ ê¸°ëŠ¥ í™œì„±í™”:** ìµœì´ˆ ë°©ë¬¸ ì‚¬ìš©ìì˜ 70% ì´ìƒì´ [4ë‹¨ê³„] ë§ì¶¤í˜• ë¬¸ì œ í’€ì´ ê¸°ëŠ¥ì„ ê²½í—˜í•˜ê²Œ í•œë‹¤.
- **í•™ìŠµ íš¨ê³¼ ì…ì¦:** ì‚¬ìš©ìì˜ ì§€ì‹ íŠ¸ë¦¬ì—ì„œ 'ëª¨ë¦„(ë¹¨ê°„ìƒ‰)' ë…¸ë“œê°€ 'ì•(ì´ˆë¡ìƒ‰)'ìœ¼ë¡œ ì „í™˜ë˜ëŠ” ë¹„ìœ¨ì„ ì¸¡ì •í•˜ì—¬ ì„œë¹„ìŠ¤ì˜ í•™ìŠµ íš¨ê³¼ë¥¼ ì¦ëª…í•œë‹¤.

---

### 3.0 í•µì‹¬ ê¸°ëŠ¥ ëª…ì„¸ (Core Feature Specifications)

### **[F-01] ê³¼ëª© ê´€ë¦¬ ë° PDF ì—…ë¡œë“œ**

- **ì„¤ëª…:** ì‚¬ìš©ìëŠ” ê³¼ëª©ë³„ í´ë”ë¥¼ ìƒì„±í•˜ê³  í•™ìŠµí•  PDFë¥¼ ì—…ë¡œë“œí•œë‹¤.
- **UI/UX:**
    - ëŒ€ì‹œë³´ë“œì—ì„œ ê³¼ëª© í´ë” ëª©ë¡ì„ í™•ì¸í•˜ê³  'ìƒˆ ê³¼ëª©'ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
    - í´ë” ì§„ì… í›„, íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë˜ëŠ” 'íŒŒì¼ ì„ íƒ' ë²„íŠ¼ìœ¼ë¡œ PDFë¥¼ ì—…ë¡œë“œí•œë‹¤.
- **ë°±ì—”ë“œ/DB:**
    - `Supabase Storage`: PDF ì›ë³¸ íŒŒì¼ ì €ì¥.
    - `Supabase DB`: `subjects`, `documents` í…Œì´ë¸”ì— ë©”íƒ€ë°ì´í„° ì €ì¥.
    - ëŒ€ìš©ëŸ‰(>20MB) íŒŒì¼ì„ ìœ„í•´ **Gemini File API** ì—°ë™ì„ ê³ ë ¤í•œ ì•„í‚¤í…ì²˜ ì„¤ê³„.

### **[F-02] AI ì§€ì‹ íŠ¸ë¦¬ ìƒì„± ë° ì§„ë‹¨**

- **ì„¤ëª…:** PDF ì—…ë¡œë“œ ì‹œ, AIê°€ ë‚´ìš©ì„ ë¶„ì„í•´ í•µì‹¬ ê°œë…ì˜ ê³„ì¸µ êµ¬ì¡°(ì§€ì‹ íŠ¸ë¦¬)ë¥¼ ìƒì„±í•˜ê³ , ì‚¬ìš©ìëŠ” ê° ê°œë…ì— ëŒ€í•œ ì´í•´ë„ë¥¼ ì²´í¬í•œë‹¤.
- **UI/UX:**
    - ì—…ë¡œë“œ í›„ AI ë¶„ì„ì´ ì§„í–‰ ì¤‘ì„ì„ ì•Œë¦¬ëŠ” ë¡œë”© ì¸ë””ì¼€ì´í„°ì™€ ì•ˆë‚´ ë©”ì‹œì§€ í‘œì‹œ (ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬).
    - ë¶„ì„ ì™„ë£Œ í›„, ìƒì„±ëœ ê°œë… ë¦¬ìŠ¤íŠ¸ê°€ í‘œì‹œë˜ë©° ê° í•­ëª©ë§ˆë‹¤ [ğŸŸ¢ ì•], [ğŸŸ  ì• ë§¤í•¨], [ğŸ”´ ëª¨ë¦„] ë²„íŠ¼ìœ¼ë¡œ ìê°€ ì§„ë‹¨ì„ ìˆ˜í–‰í•œë‹¤.
- **AI ë¡œì§ (Prompt Engineering):**
    - **ì—­í•  ë¶€ì—¬:** "ë‹¹ì‹ ì€ íŠ¹ì • í•™ë¬¸ ë¶„ì•¼ì— ëŒ€í•œ ê¹Šì€ ì´í•´ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ëŒ€í•™ìƒì„ ìœ„í•œ í•™ìŠµ ì»¤ë¦¬í˜ëŸ¼ì„ ì„¤ê³„í•˜ëŠ” **ì „ë¬¸ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ì**ì…ë‹ˆë‹¤."
    - **í•µì‹¬ ì§€ì‹œ:** "ì£¼ì–´ì§„ PDFì˜ í…ìŠ¤íŠ¸, ë„í‘œ, êµ¬ì¡°ë¥¼ ì¢…í•© ë¶„ì„í•˜ì—¬, í•µì‹¬ ê°œë…ê³¼ ì´ë¥¼ ì´í•´í•˜ëŠ” ë° í•„ìš”í•œ **ì„ ìˆ˜ ì§€ì‹**ê¹Œì§€ ëª¨ë‘ ë„ì¶œí•˜ê³ , ì´ë¥¼ ìœ„ê³„ì ì¸ ê³„ì¸µ êµ¬ì¡°ë¡œ ì •ë¦¬í•˜ì„¸ìš”."
    - **ì¶œë ¥ í˜•ì‹ ê°•ì œ:** Geminiì˜ **êµ¬ì¡°í™”ëœ ì¶œë ¥(Structured Output)** ê¸°ëŠ¥ì„ ì‚¬ìš©. `response_mime_type: "application/json"`ê³¼ `response_schema`ë¥¼ ëª…ì‹œí•˜ì—¬ ì •ì˜ëœ `KnowledgeNode` ìŠ¤í‚¤ë§ˆì— ë§ëŠ” ì•ˆì •ì ì¸ JSON ê²°ê³¼ë¬¼ì„ ë°›ëŠ”ë‹¤.
- **DB:** `knowledge_nodes`, `user_knowledge_status` í…Œì´ë¸”ì— ê²°ê³¼ ì €ì¥.

### **[F-03] ì§€ì‹ íŠ¸ë¦¬ ì‹œê°í™” ëŒ€ì‹œë³´ë“œ**

- **ì„¤ëª…:** ì‚¬ìš©ìì˜ ì§€ì‹ ìƒíƒœë¥¼ ì¸í„°ë™í‹°ë¸Œí•œ íŠ¸ë¦¬ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ ì‹œê°í™”í•˜ì—¬ í•™ìŠµ í˜„í™©ì„ ì§ê´€ì ìœ¼ë¡œ ë³´ì—¬ì¤€ë‹¤.
- **UI/UX:**
    - `react-flow` ë˜ëŠ” `D3.js`ë¥¼ í™œìš©í•˜ì—¬ ì‹œê°í™”.
    - ê° ë…¸ë“œëŠ” [ğŸŸ¢ ì•], [ğŸŸ  ì• ë§¤í•¨], [ğŸ”´ ëª¨ë¦„] ìƒíƒœì— ë”°ë¼ ìƒ‰ìƒì´ ë™ì ìœ¼ë¡œ ë³€ê²½ëœë‹¤.

### **[F-04] ì¸í„°ë™í‹°ë¸Œ PDF ë·°ì–´ ë° AI í•´ì„¤ì§€**

- **ì„¤ëª…:** ì¢Œì¸¡ì—ëŠ” ì›ë³¸ PDF ë·°ì–´, ìš°ì¸¡ì—ëŠ” AIê°€ ìƒì„±í•œ í•´ì„¤ì§€ê°€ í‘œì‹œëœë‹¤. íŠ¹íˆ ë¬¸ì œ í’€ì´ í›„ ëŒì•„ì˜¤ë©´ í‹€ë¦° ë¬¸ì œì˜ ê·¼ê±°ê°€ ë˜ëŠ” ë¶€ë¶„ì´ PDFì— ìë™ìœ¼ë¡œ í•˜ì´ë¼ì´íŠ¸ëœë‹¤.
- **UI/UX:**
    - 2-Pane ë ˆì´ì•„ì›ƒ êµ¬ì„±.
    - **ì˜¤ë‹µ í•˜ì´ë¼ì´íŒ…:** [4ë‹¨ê³„]ì—ì„œ í‹€ë¦° ë¬¸ì œì˜ ê·¼ê±° ì›ë¬¸(`source_quote`)ì´ PDF ë·°ì–´ ë‚´ì— ë¹¨ê°„ìƒ‰ í˜•ê´‘íœ íš¨ê³¼ë¡œ ì˜¤ë²„ë ˆì´ë˜ì–´ í‘œì‹œëœë‹¤.
    - ìš°ì¸¡ í•´ì„¤ì§€ì—ì„œ íŠ¹ì • ê°œë…ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ê°œë…ì— ëŒ€í•œ AI ìƒì„± í•´ì„¤ì„ ë³¼ ìˆ˜ ìˆë‹¤.

### **[F-05] ê°œì¸í™” AI í€´ì¦ˆ ìƒì„± ë° í’€ì´**

- **ì„¤ëª…:** AIê°€ ì‚¬ìš©ìì˜ ì·¨ì•½ì ('ëª¨ë¦„'ìœ¼ë¡œ ì²´í¬í•œ ê°œë…)ê³¼ PDF ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ë§ì¶¤í˜• í€´ì¦ˆë¥¼ ìƒì„±í•œë‹¤.
- **UI/UX:**
    - 'í€´ì¦ˆ í’€ê¸°' ë²„íŠ¼ìœ¼ë¡œ ì‹œì‘. í•œ ë²ˆì— í•œ ë¬¸ì œì”© ì œì‹œë˜ë©°, ë‹µì•ˆ ì œì¶œ ì‹œ ì¦‰ì‹œ ì±„ì  ê²°ê³¼ì™€ í•´ì„¤ì„ ë³´ì—¬ì¤€ë‹¤.
- **AI ë¡œì§ (Prompt Engineering):**
    - **ì—­í•  ë¶€ì—¬:** "ë‹¹ì‹ ì€ ëª¨ë“  ë¬¸ì œì˜ ê·¼ê±°ë¥¼ ëª…í™•íˆ ì œì‹œí•˜ëŠ” **ê¼¼ê¼¼í•œ ëŒ€í•™êµ ì‹œí—˜ ì¶œì œìœ„ì›**ì…ë‹ˆë‹¤."
    - **í•µì‹¬ ì§€ì‹œ:** "ì‚¬ìš©ìê°€ ëª¨ë¥´ëŠ” ê°œë… ë¦¬ìŠ¤íŠ¸ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ, PDF ë‚´ìš©ì— ê·¼ê±°í•œ ì‘ìš© ë¬¸ì œë¥¼ ìƒì„±í•˜ì„¸ìš”. ê° ë¬¸ì œë§ˆë‹¤ ê·¼ê±°ê°€ ë˜ëŠ” PDFì˜ **ì •í™•í•œ ì›ë¬¸(source_quote)**ì„ ë°˜ë“œì‹œ í•¨ê»˜ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤."
    - **ì¶œë ¥ í˜•ì‹ ê°•ì œ:** **êµ¬ì¡°í™”ëœ ì¶œë ¥**ì„ ì‚¬ìš©í•˜ì—¬ `QuizItem` ìŠ¤í‚¤ë§ˆ(question, options, answer, explanation, source_quote í¬í•¨)ì— ë§ëŠ” JSON ê²°ê³¼ë¬¼ì„ ë°›ëŠ”ë‹¤.
- **DB:** `missed_questions` í…Œì´ë¸”ì— í‹€ë¦° ë¬¸ì œ ë°ì´í„°(íŠ¹íˆ `source_quote`)ë¥¼ ì €ì¥.

### **[F-06] ìœ ê¸°ì  í•™ìŠµ í”¼ë“œë°± ë£¨í”„**

- **ì„¤ëª…:** ì‚¬ìš©ìì˜ í•™ìŠµ í™œë™ ê²°ê³¼ë¥¼ ì‹œìŠ¤í…œì— ë°˜ì˜í•˜ì—¬ ì§€ì†ì ì¸ ì„±ì¥ì„ ìœ ë„í•˜ëŠ” í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜.
- **ë¡œì§:**
    1. **í€´ì¦ˆ ì •ë‹µ ì‹œ:** í•´ë‹¹ ë¬¸ì œì™€ ê´€ë ¨ëœ ê°œë… ë…¸ë“œê°€ `user_knowledge_status` í…Œì´ë¸”ì—ì„œ 'ëª¨ë¦„(ğŸ”´)' -> 'ì•(ğŸŸ¢)'ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ê³ , [F-03] ì§€ì‹ íŠ¸ë¦¬ì— ì¦‰ì‹œ ë°˜ì˜ëœë‹¤.
    2. **í€´ì¦ˆ ì˜¤ë‹µ ì‹œ:** í•´ë‹¹ ë¬¸ì œëŠ” `missed_questions` í…Œì´ë¸”ì— ì €ì¥ëœë‹¤. í•´ë‹¹ ê³¼ëª©ì˜ ë‹¤ë¥¸ PDFì—ì„œ í€´ì¦ˆë¥¼ í’€ ë•Œ, ì´ í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì°¸ê³ í•˜ì—¬ í‹€ë ¸ë˜ ìœ í˜•ì˜ ë¬¸ì œê°€ ë‹¤ì‹œ ì¶œì œë  í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤.

---

### 4. ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜

- **Frontend:** Next.js (React)
- **Deployment:** Vercel (Vercel CLI)
- **Backend/DB:** Supabase (PostgreSQL, Storage, Auth, Edge Functions)
- **AI Model:** Google Gemini 2.5 Pro
- **PDF Analysis:** Gemini 2.5 Proì˜ ë„¤ì´í‹°ë¸Œ ë¬¸ì„œ ì´í•´ ê¸°ëŠ¥ (File API, Structured Output)
- **Libraries:** `react-pdf` (ë·°ì–´), `react-flow` (íŠ¸ë¦¬ ì‹œê°í™”)

---